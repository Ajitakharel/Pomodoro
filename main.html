<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pomodoro Clock</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
        background: #fff;
        font-family: 'Playfair Display', Times, serif;
        display: flex; justify-content: center; align-items: center;
        height: 100vh; overflow: hidden;
    }
    .loading, .main {
        position: absolute;
        top:0; left:0; right:0; bottom:0;
        background: #fff;
        display: flex; flex-direction: column;
        align-items: center; justify-content: center;
    }
    .loading {
        z-index: 100;
    }

    /* === LANDING CLOCK STYLE (from first code) === */
    .landing-clock {
        position: relative;
        width: 250px;
        height: 250px;
    }
    .landing-number {
        position: absolute;
        width: 100%;
        height: 100%;
        text-align: center;
        transform-origin: 50% 50%;
    }
    .landing-number span {
        display: block;
        transform: translateY(-65px); /* closer to text */
        font-size: 30px;
        font-weight: bold;
    }
    .landing-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        font-size: 30px;
        font-weight: bold;
        line-height: 1.3;
    }

    /* === MAIN CLOCK STYLES (from your second code) === */
    .main {
        display: none;
        flex-direction: column; 
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        padding: 20px;
    }
    .main-title {
        font-size: 3.5em;
        margin-bottom: 30px;
        text-align: center;
        font-weight: bold;
        color: #333;
    }
    .clock-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-bottom: 30px;
    }
    .clock {
        position: relative;
        width: 320px; height: 330px;
        border-radius: 50%;
        background: #f0f0f0;
        box-shadow: 0 6px 25px rgba(0,0,0,0.12);
        margin-bottom: 25px;
        overflow: hidden;
    }
    .red-overlay {
        position: absolute;
        top:0; left:0; right:0; bottom:0;
        background: rgba(255, 94, 94, 0.25);
        clip-path: circle(0% at 50% 50%);
        pointer-events:none;
        transition: clip-path 0.5s linear;
        z-index: 1;
    }
    .hand {
        position: absolute;
        bottom: 50%; left: 50%;
        transform-origin: bottom center;
        background: #222;
        transform: translateX(-50%) rotate(0deg);
        border-radius: 3px;
        z-index: 3;
    }
    .hour { width: 5px; height: 50px; }
    .minute { width: 3px; height: 80px; }
    .second { width: 2px; height: 110px; background: #ff5e5e; }
    .center-dot {
        position: absolute;
        width: 16px; height: 16px;
        background: #333;
        border-radius: 50%;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        z-index: 4;
    }
    .main-clock-numbers {
        position: absolute;
        width: 90%; height: 90%;
        top: -10px; left:0px;
        z-index: 3;
        pointer-events: none;
        transform: scale(0.9);
    }
    .main-clock-numbers span {
        position: absolute;
        font-size: 1.5em;
        color: #222;
        font-family: 'Playfair Display', Times, serif;
    }
    .minute-markers {
        position: absolute;
        width: 100%; height: 100%;
        top: 0; left: 0;
        z-index: 2;
        pointer-events: none;
    }
    .minute-markers div {
        position: absolute;
        background: #999;
        border-radius: 1px;
    }
    .minute-markers .major { background: #333; width: 3px; height: 12px; }
    .minute-markers .minor { background: #999; width: 2px; height: 6px; }
    .digital {
        font-size: 4em;
        font-weight: bold;
        text-align: center;
        letter-spacing: 3px;
        font-variant-numeric: tabular-nums;
        margin-bottom: 25px;
        user-select:none;
        color: #333;
    }
    .controls-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 500px;
    }
    .slider-container {
        width: 100%;
        margin-bottom: 25px;
    }
    .slider-label {
        font-size: 1.5em;
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        user-select:none;
        color: #444;
    }
    .slider {
        width: 100%;
        height: 16px;
        border-radius: 8px;
        background: #ddd;
        outline: none;
        cursor: pointer;
    }
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 32px; height: 32px;
        border-radius: 50%;
        background: #ff5e5e;
        cursor: pointer;
        border: none;
        box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    .slider::-moz-range-thumb {
        width: 32px; height: 32px;
        border-radius: 50%;
        background: #ff5e5e;
        cursor: pointer;
        border: none;
    }
    .btn-container {
        display: flex;
        gap: 20px;
        justify-content: center;
        width: 100%;
    }
    button {
        font-family: 'Playfair Display', Times, serif;
        font-size: 1.4em;
        padding: 16px 42px;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        color: white;
        transition: all 0.25s ease;
        user-select:none;
        min-width: 140px;
    }
    #startBtn { background: #ff5e5e; }
    #startBtn:hover { background: #ff4242; transform: translateY(-2px); }
    #pauseBtn { background: #5e7aff; display: none; }
    #pauseBtn:hover { background: #4262ff; transform: translateY(-2px); }
    #resumeBtn { background: #34c759; display: none; }
    #resumeBtn:hover { background: #2cad4d; transform: translateY(-2px); }
    #cancelBtn { background: #888; display: none; }
    #cancelBtn:hover { background: #666; transform: translateY(-2px); }
</style>
</head>
<body>

<!-- LANDING PAGE -->
<div class="loading" id="loadingPage">
<div class="landing-clock">
    <div class="landing-number" style="transform: rotate(0deg);"><span style="transform: translateY(-75px) rotate(0deg);">12</span></div>
    <div class="landing-number" style="transform: rotate(30deg);"><span style="transform: translateY(-75px) rotate(-30deg);">1</span></div>
    <div class="landing-number" style="transform: rotate(60deg);"><span style="transform: translateY(-75px) rotate(-60deg);">2</span></div>
    <div class="landing-number" style="transform: rotate(90deg);"><span style="transform: translateY(-75px) rotate(-90deg);">3</span></div>
    <div class="landing-number" style="transform: rotate(120deg);"><span style="transform: translateY(-75px) rotate(-120deg);">4</span></div>
    <div class="landing-number" style="transform: rotate(150deg);"><span style="transform: translateY(-75px) rotate(-150deg);">5</span></div>
    <div class="landing-number" style="transform: rotate(180deg);"><span style="transform: translateY(-75px) rotate(-180deg);">6</span></div>
    <div class="landing-number" style="transform: rotate(210deg);"><span style="transform: translateY(-75px) rotate(-210deg);">7</span></div>
    <div class="landing-number" style="transform: rotate(240deg);"><span style="transform: translateY(-75px) rotate(-240deg);">8</span></div>
    <div class="landing-number" style="transform: rotate(270deg);"><span style="transform: translateY(-75px) rotate(-270deg);">9</span></div>
    <div class="landing-number" style="transform: rotate(300deg);"><span style="transform: translateY(-75px) rotate(-300deg);">10</span></div>
    <div class="landing-number" style="transform: rotate(330deg);"><span style="transform: translateY(-75px) rotate(-330deg);">11</span></div>
    <div class="landing-text">POMODORO <br> CLOCK</div>
</div>
</div>

<!-- MAIN PAGE -->
<div class="main" id="mainPage">
<div class="main-title">POMODORO CLOCK</div>
<div class="clock-container">
    <div class="clock">
        <div class="red-overlay" id="redOverlay"></div>
        <div class="minute-markers" id="minuteMarkers"></div>
        <div class="hand hour" id="hourHand"></div>
        <div class="hand minute" id="minuteHand"></div>
        <div class="hand second" id="secondHand"></div>
        <div class="center-dot"></div>
        <div class="main-clock-numbers" id="mainClockNumbers"></div>
    </div>
    <div class="digital" id="digitalTimer">00:00:00</div>
</div>
<div class="controls-container">
    <div class="slider-container">
        <div class="slider-label">
            <span>Set Timer</span>
            <span id="timerLabel">25:00</span>
        </div>
        <input type="range" min="1" max="180" value="25" id="pomodoroSlider" class="slider" />
    </div>
    <div class="btn-container">
        <button id="startBtn">START</button>
        <button id="pauseBtn">PAUSE</button>
        <button id="resumeBtn">RESUME</button>
        <button id="cancelBtn">CANCEL</button>
    </div>
</div>
</div>

<script>
/* Draw main page numbers dynamically */
function drawNumbers(containerId, radius, fontSize){
    const container = document.getElementById(containerId);
    for(let i=1;i<=12;i++){
        const span=document.createElement('span');
        const angle = (i-3)*Math.PI/6;
        const x = radius * Math.cos(angle) + 160;
        const y = radius * Math.sin(angle) + 160;
        span.textContent = i;
        span.style.left = `${x}px`;
        span.style.top = `${y}px`;
        span.style.fontSize = fontSize || '2em';
        container.appendChild(span);
    }
}

/* Minute markers */
function createMinuteMarkers() {
    const markersContainer = document.getElementById('minuteMarkers');
    const radius = 160;
    const majorLength = 12;
    const minorLength = 6;
    for (let i = 0; i < 60; i++) {
        const angle = (i * 6) * Math.PI / 180;
        const isMajor = i % 5 === 0;
        const marker = document.createElement('div');
        marker.className = isMajor ? 'major' : 'minor';
        const x1 = radius + (radius - (isMajor ? majorLength : minorLength) - 5) * Math.sin(angle);
        const y1 = radius - (radius - (isMajor ? majorLength : minorLength) - 5) * Math.cos(angle);
        marker.style.left = `${x1}px`;
        marker.style.top = `${y1}px`;
        marker.style.transform = `rotate(${i * 6}deg)`;
        markersContainer.appendChild(marker);
    }
}
drawNumbers('mainClockNumbers', 130, '1.4em');
createMinuteMarkers();

/* Switch to main after 3s */
setTimeout(() => {
    document.getElementById('loadingPage').style.display = 'none';
    document.getElementById('mainPage').style.display = 'flex';
}, 3000);

/* Clock + Pomodoro logic (same as before) */
function getKathmanduTime(){
    const now = new Date();
    const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
    return new Date(utc + 5.75 * 3600000);
}
const hourHand = document.getElementById('hourHand');
const minuteHand = document.getElementById('minuteHand');
const secondHand = document.getElementById('secondHand');
const digitalTimer = document.getElementById('digitalTimer');
const redOverlay = document.getElementById('redOverlay');
const slider = document.getElementById('pomodoroSlider');
const timerLabel = document.getElementById('timerLabel');
const startBtn = document.getElementById('startBtn');
const pauseBtn = document.getElementById('pauseBtn');
const resumeBtn = document.getElementById('resumeBtn');
const cancelBtn = document.getElementById('cancelBtn');
let pomodoroDuration = slider.value * 60;
let pomodoroLeft = pomodoroDuration;
let isRunning = false;
let isPaused = false;
let timerInterval;
function pad(num){return num<10 ? '0'+num : num;}
function updateDigital(){
    if(!isRunning || isPaused){
        const now = new Date();
        digitalTimer.textContent = pad(now.getHours()) + ':' + pad(now.getMinutes()) + ':' + pad(now.getSeconds());
    }
}
setInterval(updateDigital, 1000);
function updateAnalog(){
    const now = getKathmanduTime();
    const h = now.getHours() % 12;
    const m = now.getMinutes();
    const s = now.getSeconds();
    hourHand.style.transform = `translateX(-50%) rotate(${(h*30) + (m*0.5)}deg)`;
    minuteHand.style.transform = `translateX(-50%) rotate(${m*6 + s*0.1}deg)`;
    secondHand.style.transform = `translateX(-50%) rotate(${s*6}deg)`;
    if(!isRunning){
        updateDigital();
        updateRedOverlay(0);
    }
}
setInterval(updateAnalog, 1000);
function updateRedOverlay(percent=0){
    let radiusPercent = percent * 50;
    redOverlay.style.clipPath = `circle(${radiusPercent}% at 50% 50%)`;
}
slider.addEventListener('input', () => {
    pomodoroDuration = slider.value * 60;
    pomodoroLeft = pomodoroDuration;
    timerLabel.textContent = pad(slider.value) + ':00';
    if(!isRunning){
        updateDigital();
        updateRedOverlay(0);
    }
});
startBtn.addEventListener('click', () => {
    if(!isRunning){
        isRunning = true; isPaused = false;
        pomodoroLeft = pomodoroDuration;
        startBtn.style.display = 'none';
        pauseBtn.style.display = 'inline-block';
        resumeBtn.style.display = 'none';
        cancelBtn.style.display = 'inline-block';
        slider.disabled = true;
        updateDigitalPomodoro(pomodoroLeft);
        updateRedOverlay(1);
        timerInterval = setInterval(() => {
            if(pomodoroLeft > 0 && !isPaused){
                pomodoroLeft--;
                updateDigitalPomodoro(pomodoroLeft);
                updateRedOverlay(pomodoroLeft/pomodoroDuration);
            }
            if(pomodoroLeft <= 0){
                clearInterval(timerInterval);
                alert("Pomodoro complete! Take a break.");
                resetPomodoro();
            }
        }, 1000);
    }
});
pauseBtn.addEventListener('click', () => {
    if(isRunning && !isPaused){
        isPaused = true;
        pauseBtn.style.display = 'none';
        resumeBtn.style.display = 'inline-block';
    }
});
resumeBtn.addEventListener('click', () => {
    if(isRunning && isPaused){
        isPaused = false;
        resumeBtn.style.display = 'none';
        pauseBtn.style.display = 'inline-block';
    }
});
cancelBtn.addEventListener('click', () => {
    clearInterval(timerInterval);
    resetPomodoro();
});
function updateDigitalPomodoro(seconds){
    let h = Math.floor(seconds/3600);
    let m = Math.floor((seconds % 3600)/60);
    let s = seconds % 60;
    digitalTimer.textContent = pad(h) + ':' + pad(m) + ':' + pad(s);
}

// Reset Pomodoro UI and variables
function resetPomodoro(){
    isRunning = false; 
    isPaused = false;
    pomodoroLeft = pomodoroDuration;
    slider.disabled = false;
    startBtn.style.display = 'inline-block';
    pauseBtn.style.display = 'none';
    resumeBtn.style.display = 'none';
    cancelBtn.style.display = 'none';
    timerLabel.textContent = pad(slider.value) + ':00';
    updateDigital();
    updateRedOverlay(0);
}

// Initial UI setup
updateDigital();
updateAnalog();
</script>
</body>
</
